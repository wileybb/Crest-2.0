{"ast":null,"code":"import _defineProperty from \"/Users/swagg187/Desktop/crest group version/Crest/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/swagg187/Desktop/crest group version/Crest/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/swagg187/Desktop/crest group version/Crest/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/swagg187/Desktop/crest group version/Crest/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/swagg187/Desktop/crest group version/Crest/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/swagg187/Desktop/crest group version/Crest/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/swagg187/Desktop/crest group version/Crest/client/src/components/Newsfeed/Newsfeed.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API.js\";\n\nvar Newsfeed =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Newsfeed, _Component);\n\n  function Newsfeed() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Newsfeed);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Newsfeed)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      stockResponse: {},\n      newsResponse: [],\n      oneStockNews: [],\n      stock: [\"aapl\", \"googl\", \"fb\"],\n      endpoint: \"https://ws-api.iextrading.com/1.0/tops\"\n    };\n\n    _this.autoStockData = function () {\n      var symbols = _this.state.stock.join(\",\");\n\n      API.batchStock(symbols).then(function (res) {\n        console.log(\"res.data\");\n\n        _this.setState({\n          stockResponse: res.data\n        });\n      });\n    };\n\n    _this.autoNewsData = function () {\n      API.iexMarketNews().then(function (res) {\n        _this.setState({\n          newsResponse: res.data\n        });\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault(); // const stockTic = {\n      //     symbol: this.state.symbol,\n      // }\n\n      _this.setState({\n        symbol: _this.state.symbol\n      });\n\n      console.log(_this.state.symbol);\n      API.iexStockNews(_this.state.symbol).then(function (res) {\n        console.log(res.data);\n\n        _this.setState({\n          oneStockNews: res.data\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Newsfeed, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.intervalId = setInterval(this.autoStockData.bind(this), 1000); // this.newsIntervalId = setInterval(this.autoNewsData.bind(this), 60000);\n\n      this.autoNewsData();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.intervalId); // clearInterval(this.newsIntervalId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //const response = {};\n      var stockResponse = this.state; // const {symbol} = this.state;\n\n      console.log(this.state.stockResponse); //   console.log(this.state.newsResponse);\n      //console.log(this.state.response.symbol + this.state.response.lastSalePrice);\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          overflow: \"auto\",\n          opacity: \".9\"\n        },\n        className: \"col-md-12 pb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list-overflow-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.state.newsResponse ? React.createElement(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, this.state.newsResponse.map(function (news) {\n        return React.createElement(\"li\", {\n          className: \"list-group-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, news.headline)), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, news.summary)), React.createElement(\"a\", {\n          rel: \"noreferrer noopener\",\n          target: \"_blank\",\n          href: news.url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \"Read More...\"));\n      })) : React.createElement(\"h3\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"No News To Display\"))), \"   \"));\n    }\n  }]);\n\n  return Newsfeed;\n}(Component);\n\nexport { Newsfeed as default };","map":{"version":3,"sources":["/Users/swagg187/Desktop/crest group version/Crest/client/src/components/Newsfeed/Newsfeed.js"],"names":["React","Component","API","Newsfeed","state","stockResponse","newsResponse","oneStockNews","stock","endpoint","autoStockData","symbols","join","batchStock","then","res","console","log","setState","data","autoNewsData","iexMarketNews","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","symbol","iexStockNews","intervalId","setInterval","bind","clearInterval","overflow","opacity","map","news","headline","summary","url"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport API from \"../../utils/API.js\";\n\nexport default class Newsfeed extends Component {\n    state = {\n          stockResponse:{},\n          newsResponse:[],\n          oneStockNews:[],\n          stock: [\"aapl\", \"googl\", \"fb\"],\n          endpoint: \"https://ws-api.iextrading.com/1.0/tops\",\n        }\n    componentDidMount(){\n        this.intervalId = setInterval(this.autoStockData.bind(this), 1000);\n        // this.newsIntervalId = setInterval(this.autoNewsData.bind(this), 60000);\n        this.autoNewsData();\n      }\n      componentWillUnmount(){\n        clearInterval(this.intervalId);\n        // clearInterval(this.newsIntervalId);\n      }\n       autoStockData = () => {\n        let symbols = this.state.stock.join(\",\") \n        API.batchStock(symbols).then((res) => {\n            console.log(\"res.data\")\n            this.setState({stockResponse:res.data});\n           })\n        }\n        autoNewsData = () => {\n            API.iexMarketNews().then((res) => {\n                this.setState({newsResponse:res.data})\n            })\n        }\n\n        handleInputChange=(event) => {\n            const{name, value} = event.target;\n            this.setState({[name]: value});\n        }\n        handleFormSubmit = (event) => {\n            event.preventDefault();\n            // const stockTic = {\n            //     symbol: this.state.symbol,\n            // }\n            this.setState({symbol:this.state.symbol});\n            console.log(this.state.symbol);\n            API.iexStockNews(this.state.symbol).then((res) => {\n                console.log(res.data);\n                this.setState({oneStockNews: res.data});\n            })\n        }\n\n    render(){\n      //const response = {};\n      const stockResponse = this.state;\n      // const {symbol} = this.state;\n        console.log(this.state.stockResponse);\n    //   console.log(this.state.newsResponse);\n      //console.log(this.state.response.symbol + this.state.response.lastSalePrice);\n      return(\n        <div className=\"container\">\n         <div  className=\"row\">\n     \n               {/* Market News Rendering here */}\n               <div style={{overflow:\"auto\", opacity: \".9\"}} className=\"col-md-12 pb-3\">\n               <div className=\"list-overflow-container\">\n               {this.state.newsResponse ? (\n                     <ul className=\"list-group\">\n                       {this.state.newsResponse.map((news) => {\n                       return (\n                           <li className=\"list-group-item\">\n                               <h3><span>{news.headline}</span></h3>\n                               <p><span>{news.summary}</span></p>\n                               <a rel=\"noreferrer noopener\" target=\"_blank\" href={news.url}>Read More...</a>\n                           </li>\n                       );\n                   })}\n                     </ul>\n                   ) : (\n                     <h3 className=\"container\">No News To Display</h3>\n                   )}\n               </div>\n               </div>   {/*News Div End*/}\n\n\n\n        </div> \n        </div>\n        \n       );\n    }}\n"]},"metadata":{},"sourceType":"module"}